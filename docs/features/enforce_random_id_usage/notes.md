- Change cacheBuster in src/components/documents/cover-image-display.tsx to just return crypto.randomUUID(). Just assume it exists. We have a controlled environment.
- Same for createUploadKey in src/hooks/use-document-upload.ts, createMockId in tests/support/helpers/sse-mock.ts.
- Remove fallbackTraceId. Simply fail createRequestId if you can't get the trace ID.
- I see a few occurrences of makeUnique('').substring(0, 6) and makeUnique('???').split('-').pop(). There seem to be two variants:
  - One where there's a legitimate need for a unique ID. Create a new method (that makeUnique uses) to create the unique ID and use that instead. Please give that method an optional length parameter to get rid of a few substring calls also. E.g. tests/api/factories/seller-factory.ts:139, tests/e2e/sellers/sellers-list.spec.ts:7-8, tests/e2e/sellers/sellers-list.spec.ts:84, tests/e2e/sellers/sellers-list.spec.ts:28, tests/e2e/sellers/sellers-selector.spec.ts:9, tests/e2e/sellers/sellers-selector.spec.ts:22, tests/e2e/sellers/sellers-selector.spec.ts:41.
  - The other can be refactored to call makeUnique as it was intended. E.g. tests/api/factories/seller-factory.ts:75, tests/e2e/sellers/sellers-selector.spec.ts:9, tests/e2e/sellers/sellers-selector.spec.ts:23, tests/e2e/sellers/sellers-selector.spec.ts:51.
  There are more then the occurrences listed. Please search for the pattern. There are different variants of them. I see e.g. string truncation of 4 (from the ID length of 6) to I guess create more representative keys. It's not important enough and only adds complexity.
- As for the usage of getEpochMs in tests/support/helpers/sse-mock.ts. I don't really have a problem with this. I think it's a good approach. That being said, if this is only for relative time, I would very much prefer you use performance.now().
- Concerning sellerSlug in tests/e2e/workflows/end-to-end.spec.ts I think it's safe to assume the IDs will never return spaces. I think we can also decide they'll only return lower case characters, so the toLowerCase on the result of makeUnique and the new method can always be removed.
- In case of normalizeEvent in tests/support/helpers/test-events.ts I prefer you add a lint suppression instead of working around the lint rule. In general I prefer this. If you need Date.now, it's fine to use it. Same in tests/unit/playwright-bridge.test.ts.
- In case of recordToast in tests/support/helpers/toast-helpers.ts I think performance.now() is the right choice again.